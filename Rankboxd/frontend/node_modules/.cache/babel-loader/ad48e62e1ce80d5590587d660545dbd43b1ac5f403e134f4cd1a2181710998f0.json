{"ast":null,"code":"var _jsxFileName = \"/Users/kilianreichl/RBDev/rankboxd/src/components/RankingPreview.js\";\nimport React from 'react';\nimport { ArrowRight, MoveUp, MoveDown, TrendingUp, TrendingDown } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst RankingSidePanel = ({\n  movie,\n  position,\n  totalMovies,\n  rankings\n}) => {\n  if (!movie || !rankings[movie.identifier]) return null;\n  const record = rankings[movie.identifier];\n  const percentile = ((totalMovies - position) / totalMovies * 100).toFixed(1);\n  const recentTrend = record.recentResults.slice(-5).reduce((acc, result) => acc + (result.result ? 1 : -1), 0);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-base-200/50 backdrop-blur-sm rounded-lg p-4 w-[200px]\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm font-medium\",\n          children: \"Current Rank\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 15,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-lg font-bold\",\n          children: position\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 16,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 14,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm font-medium\",\n          children: \"Percentile\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 20,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-base\",\n          children: [percentile, \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 21,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm font-medium\",\n          children: \"Recent Trend\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 25,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-1\",\n          children: [recentTrend > 0 ? /*#__PURE__*/_jsxDEV(TrendingUp, {\n            className: \"w-4 h-4 text-success\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 28,\n            columnNumber: 15\n          }, this) : recentTrend < 0 ? /*#__PURE__*/_jsxDEV(TrendingDown, {\n            className: \"w-4 h-4 text-error\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 30,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(ArrowRight, {\n            className: \"w-4 h-4 text-base-content/50\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 32,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm\",\n            children: [Math.abs(recentTrend), \" \", recentTrend > 0 ? 'wins' : 'losses']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 26,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm font-medium\",\n          children: \"Last 5 Comparisons\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-1\",\n          children: record.recentResults.slice(-5).map((result, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `h-1.5 flex-1 rounded-full ${result.result ? 'bg-success' : 'bg-error'}`\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 12,\n    columnNumber: 5\n  }, this);\n};\n_c = RankingSidePanel;\nconst RankingPreview = ({\n  currentPair,\n  rankings,\n  onMovieClick\n}) => {\n  if (!currentPair || currentPair.length !== 2) return null;\n  const sortedRankings = Object.values(rankings).sort((a, b) => b.rating - a.rating).map(r => r.movie);\n  const positions = currentPair.map(movie => ({\n    position: sortedRankings.findIndex(m => m.identifier === movie.identifier) + 1,\n    movie\n  }));\n  const totalMovies = sortedRankings.length;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex justify-between items-center w-full max-w-7xl mx-auto px-4\",\n    children: [/*#__PURE__*/_jsxDEV(RankingSidePanel, {\n      movie: positions[0].movie,\n      position: positions[0].position,\n      totalMovies: totalMovies,\n      rankings: rankings\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 max-w-2xl mx-8\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(RankingSidePanel, {\n      movie: positions[1].movie,\n      position: positions[1].position,\n      totalMovies: totalMovies,\n      rankings: rankings\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, this);\n};\n_c2 = RankingPreview;\nexport default RankingPreview;\nvar _c, _c2;\n$RefreshReg$(_c, \"RankingSidePanel\");\n$RefreshReg$(_c2, \"RankingPreview\");","map":{"version":3,"names":["React","ArrowRight","MoveUp","MoveDown","TrendingUp","TrendingDown","jsxDEV","_jsxDEV","RankingSidePanel","movie","position","totalMovies","rankings","identifier","record","percentile","toFixed","recentTrend","recentResults","slice","reduce","acc","result","className","children","fileName","_jsxFileName","lineNumber","columnNumber","Math","abs","map","i","_c","RankingPreview","currentPair","onMovieClick","length","sortedRankings","Object","values","sort","a","b","rating","r","positions","findIndex","m","_c2","$RefreshReg$"],"sources":["/Users/kilianreichl/RBDev/rankboxd/src/components/RankingPreview.js"],"sourcesContent":["import React from 'react';\nimport { ArrowRight, MoveUp, MoveDown, TrendingUp, TrendingDown } from 'lucide-react';\n\nconst RankingSidePanel = ({ movie, position, totalMovies, rankings }) => {\n  if (!movie || !rankings[movie.identifier]) return null;\n  \n  const record = rankings[movie.identifier];\n  const percentile = ((totalMovies - position) / totalMovies * 100).toFixed(1);\n  const recentTrend = record.recentResults.slice(-5).reduce((acc, result) => acc + (result.result ? 1 : -1), 0);\n  \n  return (\n    <div className=\"bg-base-200/50 backdrop-blur-sm rounded-lg p-4 w-[200px]\">\n      <div className=\"space-y-4\">\n        <div className=\"flex justify-between items-center\">\n          <span className=\"text-sm font-medium\">Current Rank</span>\n          <span className=\"text-lg font-bold\">{position}</span>\n        </div>\n        \n        <div className=\"flex justify-between items-center\">\n          <span className=\"text-sm font-medium\">Percentile</span>\n          <span className=\"text-base\">{percentile}%</span>\n        </div>\n        \n        <div className=\"flex justify-between items-center\">\n          <span className=\"text-sm font-medium\">Recent Trend</span>\n          <div className=\"flex items-center gap-1\">\n            {recentTrend > 0 ? (\n              <TrendingUp className=\"w-4 h-4 text-success\" />\n            ) : recentTrend < 0 ? (\n              <TrendingDown className=\"w-4 h-4 text-error\" />\n            ) : (\n              <ArrowRight className=\"w-4 h-4 text-base-content/50\" />\n            )}\n            <span className=\"text-sm\">\n              {Math.abs(recentTrend)} {recentTrend > 0 ? 'wins' : 'losses'}\n            </span>\n          </div>\n        </div>\n        \n        <div className=\"space-y-1\">\n          <div className=\"text-sm font-medium\">Last 5 Comparisons</div>\n          <div className=\"flex gap-1\">\n            {record.recentResults.slice(-5).map((result, i) => (\n              <div\n                key={i}\n                className={`h-1.5 flex-1 rounded-full ${\n                  result.result ? 'bg-success' : 'bg-error'\n                }`}\n              />\n            ))}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst RankingPreview = ({ currentPair, rankings, onMovieClick }) => {\n  if (!currentPair || currentPair.length !== 2) return null;\n\n  const sortedRankings = Object.values(rankings)\n    .sort((a, b) => b.rating - a.rating)\n    .map(r => r.movie);\n\n  const positions = currentPair.map(movie => ({\n    position: sortedRankings.findIndex(m => m.identifier === movie.identifier) + 1,\n    movie\n  }));\n\n  const totalMovies = sortedRankings.length;\n\n  return (\n    <div className=\"flex justify-between items-center w-full max-w-7xl mx-auto px-4\">\n      <RankingSidePanel \n        movie={positions[0].movie}\n        position={positions[0].position}\n        totalMovies={totalMovies}\n        rankings={rankings}\n      />\n      \n      <div className=\"flex-1 max-w-2xl mx-8\">\n        {/* Your existing movie comparison UI */}\n      </div>\n      \n      <RankingSidePanel \n        movie={positions[1].movie}\n        position={positions[1].position}\n        totalMovies={totalMovies}\n        rankings={rankings}\n      />\n    </div>\n  );\n};\n\nexport default RankingPreview;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}